COMPILER Aritmetica    

PRODUCTIONS

Expr= {Stat (";")}".".

Stat = 							(.int value;.)
	Expression<. ref value.>		(.System.Console.WriteLn(value.ToString());.)
	.

Expression<.ref result.> =		(.int result1,result2;.)
	Term<. ref result1.>
	{    "+"Term<. ref result2.>		(.result1+=result2;.)
	   | "-"Term<. ref result2.>		(.result1-=result2;.)
	}							(.result=result1;.)
	.

Term<.ref result.>=				(.int result1,result2;.)
	Factor<.ref result1.>
	{    "*"Factor<.ref result2.>	(.result1*=result2;.)
	   | "/"Factor<.ref result2.>	(.result1/=result2;.)
	}							(.result=result1;.)
	.
	
Factor<.ref result.> =	(.int signo=1;.)
	["-"(.signo = -1;.)]
	( Number<.ref result.> | "("Expression<. ref result.>")") (.result*=signo;.).
	
Number<.ref int result.> =  number (. result = int.Parse(lastToken.Value).).

END Aritmetica